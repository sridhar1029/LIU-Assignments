setwd("//ad.liu.se/home/sriad858/Desktop/LIU-Assignments/VisualizationLab/Lab3")
library(ggplot2)
library(plotly)
## Assignment 2
# 1 reading data
data2 = read.csv("SwedishHousehold.csv", skip = 2, col.names = c("Region", "Age", "Income"))
head(data2)
my_strip <- function(region) {
region = strsplit(as.character(region), " ")[[1]][2]
}
data2$Region = lapply(data2$Region, my_strip)
data2$Region = as.character(data2$Region)
levels(data2$Age) = c("Young", "Adult", "Senior")
data2_rshaped = reshape(data2, idvar = "Region", timevar = "Age", direction = "wide", v.names = NULL)
names(data2_rshaped) = c("Region","Adult","Senior","Youth")
head(data2_rshaped)
#2 violen plot
p <- ggplot(data2, aes(x=Age, y=Income)) +
geom_violin()
p
#4
rds<-readRDS("gadm36_SWE_1_sf.rds")
rownames(data2_rshaped)=data2_rshaped$Region
data2_rshaped["Västra", 1] = "Västra Götaland"
data2_rshaped["Örebro", 1] = "Orebro"
rownames(data2_rshaped)=data2_rshaped$Region
rds$Youth=data2_rshaped[rds$NAME_1, "Youth"]
rds$Adult=data2_rshaped[rds$NAME_1, "Adult"]
rds$Senior=data2_rshaped[rds$NAME_1, "Senior"]
p_youth<-plot_ly()%>%add_sf(data=rds, split=~NAME_1, color=~Youth, showlegend=F, alpha=1)
p_adults<-plot_ly()%>%add_sf(data=rds, split=~NAME_1, color=~Adult, showlegend=F, alpha=1)
p_youth
p_adults
library(dplyr)
library(ggplot2)
library(plotly)
p1<-ggplot(mtcars, aes(mpg, fill=factor(am)))+geom_density(alpha=0.2)
p1
p2<-ggplot(mtcars, aes(mpg, fill=factor(am)))+geom_histogram(bins = 5)
p2
p3<-ggplot(mtcars, aes( y=mpg, x=factor(am)))+geom_violin(fill="orange")
p3
p1
p2
p3
ggplot(data2_rshaped) + geom_violin(aes(Youth))
ggplot(data2_rshaped) + geom_violin(aes(1, Youth))
ggplot(data2_rshaped) + geom_violin(aes(1, Youth)) + geom_violin(aes(2, Senior))
ggplot(data2_rshaped) + geom_violin(aes("Youth", Youth)) + geom_violin(aes(2, Senior))
View(data2_rshaped)
View(data2_rshaped)
ggplot(data2_rshaped) +
geom_violin(aes("Youth", Youth)) +
geom_violin(aes("Adult", Adult)) +
geom_violin(aes("Senior", Senior))
p
p
ggplot(data2_rshaped) +
geom_violin(aes("Youth", Youth)) +
geom_violin(aes("Adult", Adult)) +
geom_violin(aes("Senior", Senior))
p1<-plot_ly(mtcars, x=~mpg, color=~factor(am), alpha=0.6)%>%
add_histogram()%>%
layout(barmode = "overlay")
p1
p2<-ggplot(mtcars, aes(mpg, fill=factor(am)))+geom_density(alpha=0.6)
ggplotly(p2)
head(mtcars)
head(data2)
g = ggplot(data2, aes(Income, fill = factor(Age))) + geom_density()
plotly(g)
ggplotly(g)
p3<-plot_ly(mtcars, x=~factor(am), y=~mpg, split=~factor(am),
type="violin", box=list(visible=T))
p3
plotly(data2, x = ~factor(Age), y = ~Income, type = "violin")
plotly(data2, x = ~factor(Age), y = ~Income, type = "violin", split = ~factor(Age))
plotly(data2, x=~factor(Age), y=~Income, type="violin", split=~factor(Age))
plot_ly(data2, x=~factor(Age), y=~Income, type="violin", split=~factor(Age))
plot_ly(data2, x=~factor(Age), y=~Income, type="violin")
plot_ly(data2, x=~factor(Age), y=~Income, type="violin", split=~factor(Age), box=list(visible=T))
p3
library(dplyr)
library(ggplot2)
library(plotly)
library(dplyr)
library(ggplot2)
library(plotly)
mtcars %>% plot_ly()%>%
add_trace(type='splom',     dimensions = list(
list(label='MPG', values=~mpg),
list(label='Displacement', values=~disp),
list(label='#Horse Power', values=~hp),
list(label='weight', values=~wt)),
marker = list(
color = as.integer(mtcars$cyl),
size = ~qsec
)
)
library(GGally)
ggpairs(mtcars, columns=c(1,3,4,6),
mapping =aes(color=factor(cyl), size=qsec))
library(dplyr)
library(ggplot2)
library(MASS)
library(plotly)
mtcars %>%plot_ly(x=~mpg, y=~disp, z=~wt, type="scatter3d")
mtcars %>%plot_ly(x=~mpg, y=~disp, z=~wt, type="contour")
library(akima)
attach(mtcars)
s=interp(mpg,disp,wt, duplicate = "mean")
detach(mtcars)
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
s=interp(mpg,disp,wt, duplicate = "mean")
detach(mtcars)
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
s
s=interp(mpg,disp,wt, duplicate = "mean")
library(akima)
install.packages(akima)
install.packages(akima)
install.packages("akima")
s=interp(mpg,disp,wt, duplicate = "mean")
attach(mtcars)
s=interp(mpg,disp,wt, duplicate = "mean")
library(akima)
attach(mtcars)
s=interp(mpg,disp,wt, duplicate = "mean")
detach(mtcars)
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
library(dplyr)
library(ggplot2)
library(MASS)
library(plotly)
mtcars %>%plot_ly(x=~mpg, y=~disp, z=~wt, type="scatter3d")
library(plotly)
df <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2014_world_gdp_with_codes.csv')
# WORLD MAP
g <- list(
projection = list(type = 'Mercator')
)
p <- plot_geo(df) %>%
add_trace(
z = ~GDP..BILLIONS., color = ~GDP..BILLIONS., colors = 'Blues',
text = ~COUNTRY, locations = ~CODE
) %>%
layout(
geo = g
)
p
rds<-readRDS("gadm36_GBR_2_sf.rds")
df<-read.csv("GBcities.csv")
library(plotly)
library(dplyr)
# airport locations
air <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2011_february_us_airport_traffic.csv')
# flights between airports
flights <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2011_february_aa_flight_paths.csv')
flights$id <- seq_len(nrow(flights))
# map projection
geo <- list(
scope = 'north america'
)
p <- plot_geo(locationmode = 'USA-states', color = I("red")) %>%
add_markers(
data = air, x = ~long, y = ~lat, text = ~airport,
size = ~cnt, hoverinfo = "text", alpha = 0.5
) %>%
add_segments(
data = group_by(flights, id),
x = ~start_lon, xend = ~end_lon,
y = ~start_lat, yend = ~end_lat,
alpha = 0.3, size = I(1) , hoverinfo = "none"
) %>%
layout(
geo = geo
)
p
p
library(plotly)
df <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2014_world_gdp_with_codes.csv')
# WORLD MAP
g <- list(
projection = list(type = 'Mercator')
)
p <- plot_geo(df) %>%
add_trace(
z = ~GDP..BILLIONS., color = ~GDP..BILLIONS., colors = 'Blues',
text = ~COUNTRY, locations = ~CODE
) %>%
layout(
geo = g
)
p
View(df)
View(df)
View(rds)
View(rds)
rds<-readRDS("gadm36_SWE_1_sf.rds")
rownames(data2_rshaped)=data2_rshaped$Region
data2_rshaped["Västra", 1] = "Västra Götaland"
data2_rshaped["Örebro", 1] = "Orebro"
rownames(data2_rshaped)=data2_rshaped$Region
rds$Youth=data2_rshaped[rds$NAME_1, "Youth"]
rds$Adult=data2_rshaped[rds$NAME_1, "Adult"]
rds$Senior=data2_rshaped[rds$NAME_1, "Senior"]
View(p1)
View(data2_rshaped)
p_youth<-plot_ly()%>%add_sf(data=rds, split=~NAME_1, color=~Youth, showlegend=F, alpha=1)
p_adults<-plot_ly()%>%add_sf(data=rds, split=~NAME_1, color=~Adult, showlegend=F, alpha=1)
p_youth
p_adults
g <- list(
projection = list(type = 'Mercator')
)
p <- plot_geo(rds) %>%
add_trace(
z = ~Senior., color = ~Senior, colors = 'Blues',
text = ~NAME_1, locations = ~HASC_1
) %>%
layout(
geo = g
)
p
p <- plot_geo(rds) %>%
add_trace(
z = ~Senior, color = ~Senior, colors = 'Blues',
text = ~NAME_1, locations = ~HASC_1
) %>%
layout(
geo = g
)
p
library(dplyr)
library(MASS)
library(akima)
data2_rshaped %>%plot_ly(x=~Senior, y=~Youth, z=~Adult, type="scatter3d")
data2_rshaped %>%plot_ly(x=~Senior, y=~Youth, z=~Adult, type="contour")
attach(data2_rshaped)
s=interp(Senior,Youth,Adult, duplicate = "mean")
detach(data2_rshaped)
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
attach(data2_rshaped)
s=interp(Senior,Youth,Adult, duplicate = "mean")
library(ggplot2)
library(plotly)
library(dplyr)
library(MASS)
library(akima)
library(ggplot2)
library(plotly)
library(dplyr)
library(MASS)
library(akima)
## Assignment 2
# 1 reading data
data2 = read.csv("SwedishHousehold.csv", skip = 2, col.names = c("Region", "Age", "Income"))
head(data2)
my_strip <- function(region) {
region = strsplit(as.character(region), " ")[[1]][2]
}
data2$Region = lapply(data2$Region, my_strip)
data2$Region = as.character(data2$Region)
levels(data2$Age) = c("Young", "Adult", "Senior")
data2_rshaped = reshape(data2, idvar = "Region", timevar = "Age", direction = "wide", v.names = NULL)
names(data2_rshaped) = c("Region","Adult","Senior","Youth")
head(data2_rshaped)
#2 violen plot
p <- ggplot(data2, aes(x=Age, y=Income)) +
geom_violin()
p
ggplot(data2_rshaped) +
geom_violin(aes("Youth", Youth)) +
geom_violin(aes("Adult", Adult)) +
geom_violin(aes("Senior", Senior))
plot_ly(data2, x=~factor(Age), y=~Income, type="violin", split=~factor(Age), box=list(visible=T))
data2_rshaped %>%plot_ly(x=~Senior, y=~Youth, z=~Adult, type="scatter3d")
data2_rshaped %>%plot_ly(x=~Senior, y=~Youth, z=~Adult, type="contour")
attach(data2_rshaped)
s=interp(Senior,Youth,Adult, duplicate = "mean")
detach(data2_rshaped)
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
#4
rds<-readRDS("gadm36_SWE_1_sf.rds")
rownames(data2_rshaped)=data2_rshaped$Region
data2_rshaped["Västra", 1] = "Västra Götaland"
data2_rshaped["Örebro", 1] = "Orebro"
rownames(data2_rshaped)=data2_rshaped$Region
rds$Youth=data2_rshaped[rds$NAME_1, "Youth"]
rds$Adult=data2_rshaped[rds$NAME_1, "Adult"]
rds$Senior=data2_rshaped[rds$NAME_1, "Senior"]
p_youth<-plot_ly()%>%add_sf(data=rds, split=~NAME_1, color=~Youth, showlegend=F, alpha=1)
p_adults<-plot_ly()%>%add_sf(data=rds, split=~NAME_1, color=~Adult, showlegend=F, alpha=1)
p_youth
p_adults
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
data2_rshaped %>%plot_ly(x=~Senior, y=~Youth, z=~Adult, type="scatter3d")
?interp
plot_ly(s, x=~x, y=~y, z=~z, type="surface")
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
s=interp(Senior,Youth,Adult)
attach(data2_rshaped)
s=interp(Senior,Youth,Adult)
detach(data2_rshaped)
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
attach(data2_rshaped)
s=interp(Senior,Youth,Adult, duplicate = "mean")
detach(data2_rshaped)
plot_ly(x=~s$x, y=~s$y, z=~s$z, type="surface")
